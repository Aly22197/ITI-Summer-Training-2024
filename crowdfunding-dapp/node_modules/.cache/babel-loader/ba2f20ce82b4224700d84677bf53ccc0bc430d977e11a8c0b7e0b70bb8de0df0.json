{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Aly\\\\Desktop\\\\Crowdfunding\\\\crowdfunding\\\\crowdfunding-dapp\\\\src\\\\App.js\",\n  _s = $RefreshSig$();\nimport React, { useEffect, useState } from 'react';\nimport { ethers } from 'ethers';\nimport { contractAbi } from './Constant/constant.js';\nimport { contractAddress } from './Constant/constant.js';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nfunction App() {\n  _s();\n  const [provider, setProvider] = useState(null);\n  const [signer, setSigner] = useState(null);\n  const [contract, setContract] = useState(null);\n  const [account, setAccount] = useState(null);\n  useEffect(() => {\n    const init = async () => {\n      try {\n        // Connect to MetaMask\n        const {\n          ethereum\n        } = window;\n        if (!ethereum) {\n          console.error(\"MetaMask is not installed\");\n          return;\n        }\n        const provider = new ethers.BrowserProvider(ethereum);\n        await ethereum.request({\n          method: 'eth_requestAccounts'\n        });\n        const signer = provider.getSigner();\n        const contract = new ethers.Contract(contractAddress, contractAbi, signer);\n        setProvider(provider);\n        setSigner(signer);\n        setContract(contract);\n        setAccount(await signer.getAddress());\n      } catch (error) {\n        console.error('Error initializing Ethereum connection:', error);\n      }\n    };\n    init();\n  }, []);\n  const createPost = async (goalAmount, minContribution) => {\n    if (!contract) return;\n    try {\n      const tx = await contract.createPost(ethers.parseEther(goalAmount), ethers.parseEther(minContribution));\n      await tx.wait();\n      console.log('Post created successfully!');\n    } catch (err) {\n      console.error('Error creating post:', err);\n    }\n  };\n  const fundPost = async (postId, amount) => {\n    if (!contract) return;\n    try {\n      const tx = await contract.fundPost(postId, {\n        value: ethers.parseEther(amount)\n      });\n      await tx.wait();\n      console.log('Funded post successfully!');\n    } catch (err) {\n      console.error('Error funding post:', err);\n    }\n  };\n  const getCollectedFunds = async postId => {\n    if (!contract) return;\n    try {\n      const collectedFunds = await contract.getCollectedFunds(postId);\n      console.log(`Collected funds: ${ethers.formatEther(collectedFunds)} ETH`);\n    } catch (err) {\n      console.error('Error getting collected funds:', err);\n    }\n  };\n  const [goalAmount, setGoalAmount] = useState('');\n  const [minContribution, setMinContribution] = useState('');\n  const [postId, setPostId] = useState('');\n  const [fundAmount, setFundAmount] = useState('');\n  const handleCreatePost = e => {\n    e.preventDefault();\n    createPost(goalAmount, minContribution);\n  };\n  const handleFundPost = e => {\n    e.preventDefault();\n    fundPost(postId, fundAmount);\n  };\n  const handleGetCollectedFunds = e => {\n    e.preventDefault();\n    getCollectedFunds(postId);\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n      children: \"Crowdfunding DApp\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 102,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n      children: [\"Connected account: \", account]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 103,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n      onSubmit: handleCreatePost,\n      children: [/*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"text\",\n        placeholder: \"Goal Amount (ETH)\",\n        value: goalAmount,\n        onChange: e => setGoalAmount(e.target.value)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 106,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"text\",\n        placeholder: \"Minimum Contribution (ETH)\",\n        value: minContribution,\n        onChange: e => setMinContribution(e.target.value)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 112,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        type: \"submit\",\n        children: \"Create Post\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 118,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 105,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n      onSubmit: handleFundPost,\n      children: [/*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"text\",\n        placeholder: \"Post ID\",\n        value: postId,\n        onChange: e => setPostId(e.target.value)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 122,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"text\",\n        placeholder: \"Fund Amount (ETH)\",\n        value: fundAmount,\n        onChange: e => setFundAmount(e.target.value)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 128,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        type: \"submit\",\n        children: \"Fund Post\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 134,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 121,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n      onSubmit: handleGetCollectedFunds,\n      children: [/*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"text\",\n        placeholder: \"Post ID\",\n        value: postId,\n        onChange: e => setPostId(e.target.value)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 138,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        type: \"submit\",\n        children: \"Get Collected Funds\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 144,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 137,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 101,\n    columnNumber: 9\n  }, this);\n}\n_s(App, \"5uYKyar9dUOxVOYXlF/iujdM4xE=\");\n_c = App;\nexport default App;\nvar _c;\n$RefreshReg$(_c, \"App\");","map":{"version":3,"names":["React","useEffect","useState","ethers","contractAbi","contractAddress","jsxDEV","_jsxDEV","App","_s","provider","setProvider","signer","setSigner","contract","setContract","account","setAccount","init","ethereum","window","console","error","BrowserProvider","request","method","getSigner","Contract","getAddress","createPost","goalAmount","minContribution","tx","parseEther","wait","log","err","fundPost","postId","amount","value","getCollectedFunds","collectedFunds","formatEther","setGoalAmount","setMinContribution","setPostId","fundAmount","setFundAmount","handleCreatePost","e","preventDefault","handleFundPost","handleGetCollectedFunds","children","fileName","_jsxFileName","lineNumber","columnNumber","onSubmit","type","placeholder","onChange","target","_c","$RefreshReg$"],"sources":["C:/Users/Aly/Desktop/Crowdfunding/crowdfunding/crowdfunding-dapp/src/App.js"],"sourcesContent":["import React, { useEffect, useState } from 'react';\nimport { ethers } from 'ethers';\nimport {contractAbi} from './Constant/constant.js';\nimport { contractAddress } from './Constant/constant.js';\n\nfunction App() {\n    const [provider, setProvider] = useState(null);\n    const [signer, setSigner] = useState(null);\n    const [contract, setContract] = useState(null);\n    const [account, setAccount] = useState(null);\n\n    useEffect(() => {\n        const init = async () => {\n            try {\n                // Connect to MetaMask\n                const { ethereum } = window;\n\n                if (!ethereum) {\n                    console.error(\"MetaMask is not installed\");\n                    return;\n                }\n\n                const provider = new ethers.BrowserProvider(ethereum);\n                await ethereum.request({ method: 'eth_requestAccounts' });\n                const signer = provider.getSigner();\n                const contract = new ethers.Contract(contractAddress, contractAbi, signer);\n\n                setProvider(provider);\n                setSigner(signer);\n                setContract(contract);\n                setAccount(await signer.getAddress());\n            } catch (error) {\n                console.error('Error initializing Ethereum connection:', error);\n            }\n        };\n\n        init();\n    }, []);\n\n    const createPost = async (goalAmount, minContribution) => {\n        if (!contract) return;\n\n        try {\n            const tx = await contract.createPost(\n                ethers.parseEther(goalAmount),\n                ethers.parseEther(minContribution)\n            );\n            await tx.wait();\n            console.log('Post created successfully!');\n        } catch (err) {\n            console.error('Error creating post:', err);\n        }\n    };\n\n    const fundPost = async (postId, amount) => {\n        if (!contract) return;\n\n        try {\n            const tx = await contract.fundPost(postId, {\n                value: ethers.parseEther(amount),\n            });\n            await tx.wait();\n            console.log('Funded post successfully!');\n        } catch (err) {\n            console.error('Error funding post:', err);\n        }\n    };\n\n    const getCollectedFunds = async (postId) => {\n        if (!contract) return;\n\n        try {\n            const collectedFunds = await contract.getCollectedFunds(postId);\n            console.log(`Collected funds: ${ethers.formatEther(collectedFunds)} ETH`);\n        } catch (err) {\n            console.error('Error getting collected funds:', err);\n        }\n    };\n\n    const [goalAmount, setGoalAmount] = useState('');\n    const [minContribution, setMinContribution] = useState('');\n    const [postId, setPostId] = useState('');\n    const [fundAmount, setFundAmount] = useState('');\n\n    const handleCreatePost = (e) => {\n        e.preventDefault();\n        createPost(goalAmount, minContribution);\n    };\n\n    const handleFundPost = (e) => {\n        e.preventDefault();\n        fundPost(postId, fundAmount);\n    };\n\n    const handleGetCollectedFunds = (e) => {\n        e.preventDefault();\n        getCollectedFunds(postId);\n    };\n\n    return (\n        <div>\n            <h1>Crowdfunding DApp</h1>\n            <p>Connected account: {account}</p>\n\n            <form onSubmit={handleCreatePost}>\n                <input\n                    type=\"text\"\n                    placeholder=\"Goal Amount (ETH)\"\n                    value={goalAmount}\n                    onChange={(e) => setGoalAmount(e.target.value)}\n                />\n                <input\n                    type=\"text\"\n                    placeholder=\"Minimum Contribution (ETH)\"\n                    value={minContribution}\n                    onChange={(e) => setMinContribution(e.target.value)}\n                />\n                <button type=\"submit\">Create Post</button>\n            </form>\n\n            <form onSubmit={handleFundPost}>\n                <input\n                    type=\"text\"\n                    placeholder=\"Post ID\"\n                    value={postId}\n                    onChange={(e) => setPostId(e.target.value)}\n                />\n                <input\n                    type=\"text\"\n                    placeholder=\"Fund Amount (ETH)\"\n                    value={fundAmount}\n                    onChange={(e) => setFundAmount(e.target.value)}\n                />\n                <button type=\"submit\">Fund Post</button>\n            </form>\n\n            <form onSubmit={handleGetCollectedFunds}>\n                <input\n                    type=\"text\"\n                    placeholder=\"Post ID\"\n                    value={postId}\n                    onChange={(e) => setPostId(e.target.value)}\n                />\n                <button type=\"submit\">Get Collected Funds</button>\n            </form>\n        </div>\n    );\n}\n\nexport default App;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}